namespace = pw_germanic
namespace = pw_germanic_school_opinion_events
# Select Germanic School
country_event = {
	id = pw_germanic.01
	title = "pw_germanic.01.t"
	desc = "pw_germanic.01.d"
	picture = RELIGION_eventPicture
	
	major = no
	
	trigger = {
		has_dlc = "Cradle of Civilization"
		religion_group = germanic_group
		OR = {
			has_religious_school = no
		}
	}

	mean_time_to_happen = {
		years = 0
	}	
	
	option = {
		name = pw_germanic.1.a #Gives areas historical school of region
		trigger = {
			ai = yes
		}
		if = { #Norwegian
			limit = {
				OR = {
					capital_scope = {
						OR = {
							area = northern_norway
							area = eastern_norway
							area = western_norway
							area = subarctic_islands_area
							area = iceland_area
							area = southern_norway_area
							area = trondelag_area
						}
					}
					culture = norwegian
				}
				religion_group = germanic_group
			}
			set_religious_school = {
				group = germanic_group
				school = norse_viking_school
			}
		}
		else_if = { #Swedish
			limit = {
				OR = {
					capital_scope = {
						OR = {
							area = svealand_area
							area = norrland_area
							area = gotaland_area
							area = vastra_gotaland_area
						}
					}
					culture = swedish
				}
				religion_group = germanic_group
			}
			set_religious_school = {
				group = germanic_group
				school = swedish_viking_school
			}
		}
		else_if = { #Danish
			limit = {
				OR = {
					capital_scope = {
						OR = {
							area = skaneland_area
							area = jutland_area
							area = denmark_area
							area = schleswig_area
						}
					}
					culture = danish
					culture = scanian
				}
				religion_group = germanic_group
			}
			set_religious_school = {
				group = germanic_group
				school = danish_viking_school
			} 
		}
		else_if = { #German
			limit = {
				OR = {
					capital_scope = {
						OR = {
							region = north_german_region
							region = south_german_region
						}
					}
					AND = {
						culture_group = germanic
						NOT = { culture = frisian }
						NOT = { culture = dutch }
						NOT = { culture = dutch_modern }
						NOT = { culture = dutch_low_saxon }
					}
				}
				religion_group = germanic_group
			}
			set_religious_school = {
				group = germanic_group
				school = german_school
			}
		}	
		else_if = { #Frisian
			limit = {
				OR = {
					capital_scope = {
						OR = {
							area = frisia_area
						}
					}
					culture_group = anglo_frisian
					culture = frisian
				}
				religion_group = germanic_group
			}
			set_religious_school = {
				group = germanic_group
				school = frisian_school
			}
		}
		else_if = { #Dutch
			limit = {
				OR = {
					capital_scope = {
						OR = {
							AND = {
								region = low_countries_region
								NOT = { area = frisia_area }
							}	
						}
					}
					culture = dutch
					culture = dutch_modern
					culture = dutch_low_saxon
				}
				religion_group = germanic_group
			}
			set_religious_school = {
				group = germanic_group
				school = dutch_school
			}
		}
		else_if = { #Anglo-Saxon
			limit = {
				OR = {
					capital_scope = {
						OR = {
							AND = {
								region = british_isles_region
								NOT = { area = scottish_marches_area }
								NOT = { area = lowlands_area }
								NOT = { area = highlands_area }
								NOT = { area = kingdom_of_the_isles_area }
								NOT = { area = scottish_marches_area }
							}	
						}
					}
					culture_group = british	
				}
				religion_group = germanic_group
			}
			set_religious_school = {
				group = germanic_group
				school = anglish_school
			}
		}		
		else_if = { #Anglic falls back to Anglo-Saxon
			limit = {
				religion = insular_germanic
			}
			set_religious_school = {
				group = germanic_group
				school = anglish_school
			}
		}
		else_if = { #Norse falls back to Norwegian
			limit = {
				religion = norse_pagan_reformed
			}
			set_religious_school = {
				group = germanic_group
				school = norse_viking_school
			}
		}			
		else = { #Remaining Germanic falls back to this:
			set_religious_school = {
				group = germanic_group
				school = german_school
			}
		}
	}
	option = {    
		name = pw_germanic.1.b #Norwegian
		trigger = {
			religion = norse_pagan_reformed
			ai = no
		}
		set_religious_school = {
			group = germanic_group
			school = norse_viking_school
		}
	}
	option = {
		name = pw_germanic.1.c #Swedish
		trigger = {
			religion = norse_pagan_reformed
			ai = no
		}
		set_religious_school = {
			group = germanic_group
			school = swedish_viking_school
		}
	}
	option = {
		name = pw_germanic.1.d #Danish
		trigger = {
			religion = norse_pagan_reformed
			ai = no
		}
		set_religious_school = {
			group = germanic_group
			school = danish_viking_school
		}
	}
	option = {
		name = pw_germanic.1.e #German
		trigger = {
			religion = continental_germanic
			ai = no
		}
		set_religious_school = {
			group = germanic_group
			school = german_school
		}
	}
	option = {
		name = pw_germanic.1.f #Frisian
		trigger = {
			religion = continental_germanic
			ai = no
		}
		set_religious_school = {
			group = germanic_group
			school = frisian_school
		}
	}
	option = {
		name = pw_germanic.1.g #Dutch
		trigger = {
			religion = continental_germanic
			ai = no
		}
		set_religious_school = {
			group = germanic_group
			school = dutch_school
		}
	}
	option = {
		name = pw_germanic.1.h #English
		trigger = {
			religion = insular_germanic
			ai = no
		}
		set_religious_school = {
			group = germanic_group
			school = anglish_school
		}
	}
}



#Change opinion between schools

#Increasing to like
country_event = {
	id = pw_germanic_school_opinion_events.1
	title = pw_germanic_school_opinion_events.1.t
	desc = pw_germanic_school_opinion_events.1.d
	picture = MUSLIM_SCHOLAR_WRITING_eventPicture
	
	trigger = {
		has_dlc = "Cradle of Civilization"
		has_religious_school = yes
		religion_group = germanic_group
		total_development = 50
		num_of_cities = 5
		any_country = {
			has_religious_school = yes
			religion_group = germanic_group
			total_development = 50
			num_of_cities = 5
			NOT = { has_religious_school_of = ROOT }
			school_opinion = { #0 or more
				who = ROOT
				opinion = 0
			}
			NOT = {
				school_opinion = { #Below 1
					who = ROOT
					opinion = 1
				}
			}
			trust = {
				who = ROOT
				value = 70
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_country = {
				limit = {
					has_religious_school = yes
					religion_group = germanic_group
					total_development = 50
					num_of_cities = 5
					NOT = { has_religious_school_of = ROOT }
					school_opinion = { #0 or more
						who = ROOT
						opinion = 0
					}
					NOT = {
						school_opinion = { #Below 1
							who = ROOT
							opinion = 1
						}
					}
					trust = {
						who = ROOT
						value = 70
					}
				}
				save_event_target_as = school_opinion_increase_country
			}
		}
	}

	mean_time_to_happen = {
		months = 360
	}
	
	option = {
		name = pw_germanic_school_opinion_events.1.a #
		event_target:school_opinion_increase_country = {
			set_school_opinion = {
				who = ROOT
				opinion = 1
			}
		}
	}
}

#Increasing to neutral
country_event = {
	id = pw_germanic_school_opinion_events.2
	title = pw_germanic_school_opinion_events.2.t
	desc = pw_germanic_school_opinion_events.2.d
	picture = MUSLIM_SCHOLAR_WRITING_eventPicture
	
	trigger = {
		has_dlc = "Cradle of Civilization"
		has_religious_school = yes
		religion_group = germanic_group
		total_development = 50
		num_of_cities = 5
		any_known_country = {
			has_religious_school = yes
			religion_group = germanic_group
			total_development = 50
			num_of_cities = 5
			NOT = { has_religious_school_of = ROOT }
			NOT = {
				school_opinion = {
					who = ROOT
					opinion = 0
				}
			}
			NOT = { war_with = ROOT }
			NOT = { truce_with = ROOT }
		}
	}
	
	immediate = {
		hidden_effect = {
			random_known_country = {
				limit = {
					has_religious_school = yes
					religion_group = germanic_group
					total_development = 50
					num_of_cities = 5
					NOT = { has_religious_school_of = ROOT }
					NOT = {
						school_opinion = {
							who = ROOT
							opinion = 0
						}
					}
					NOT = { war_with = ROOT }
					NOT = { truce_with = ROOT }
				}
				save_event_target_as = school_opinion_increase_country
			}
		}
	}

	mean_time_to_happen = {
		months = 700
	}
	
	option = {
		name = pw_germanic_school_opinion_events.2.a #
		event_target:school_opinion_increase_country = {
			set_school_opinion = {
				who = ROOT
				opinion = 0
			}
		}
	}
}

#Decreasing opinion
country_event = {
	id = pw_germanic_school_opinion_events.3
	title = pw_germanic_school_opinion_events.3.t
	desc = pw_germanic_school_opinion_events.3.d
	picture = MUSLIM_SCHOLAR_WRITING_eventPicture
	
	trigger = {
		has_dlc = "Cradle of Civilization"
		has_religious_school = yes
		religion_group = germanic_group
		total_development = 50
		num_of_cities = 5
		any_country = {
			has_religious_school = yes
			religion_group = germanic_group
			total_development = 50
			num_of_cities = 5
			war_with = ROOT
			NOT = { has_religious_school_of = ROOT }
			school_opinion = {
				who = ROOT
				opinion = 0
			}
			defensive_war_with = ROOT
			is_in_war = {
				defender_leader = THIS
				attacker_leader = ROOT
				duration = 1095
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_country = {
				limit = {
					has_religious_school = yes
					total_development = 50
					num_of_cities = 5
					war_with = ROOT
					NOT = { has_religious_school_of = ROOT }
					school_opinion = {
						who = ROOT
						opinion = 0
					}
					defensive_war_with = ROOT
					is_in_war = {
						defender_leader = THIS
						attacker_leader = ROOT
						duration = 1095
					}
				}
				save_event_target_as = school_opinion_decrease_country
			}
		}
	}

	mean_time_to_happen = {
		months = 30
		modifier = {
			factor = 0.75
			any_country = {
				has_religious_school = yes
				religion_group = germanic_group
				total_development = 50
				num_of_cities = 5
				war_with = ROOT
				NOT = { has_religious_school_of = ROOT }
				school_opinion = {
					who = ROOT
					opinion = 0
				}
				defensive_war_with = ROOT
				is_in_war = {
					defender_leader = THIS
					attacker_leader = ROOT
					duration = 1825 #5 years
				}
			}
		}
	}
	
	option = {
		name = pw_germanic_school_opinion_events.3.a #
		if = { # 0 is changed to -1
			limit = {
				event_target:school_opinion_decrease_country = {
					NOT = {
						school_opinion = {
							who = ROOT
							opinion = 1
						}
					}
				}
			}
			event_target:school_opinion_decrease_country = {
				set_school_opinion = {
					who = ROOT
					opinion = -1
				}
			}
		}
		else = { #1 is changed to 0

			event_target:school_opinion_decrease_country = {
				set_school_opinion = {
					who = ROOT
					opinion = 0
				}
			}
		}
	}
}
